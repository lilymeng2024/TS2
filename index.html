<!DOCTYPE html>
<html>
    <head>
        <title>MA Study 2</title>
        <meta name="author" content="Yimeng Han"/>
        <meta name="description" content="hopelessness manipulation using WEPT"/>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
        <script src="jspsych/jspsych.js"></script>
        <script src="jspsych/plugin-survey-multi-select.js"></script>
        <script src="jspsych/plugin-survey-multi-choice.js"></script>
        <script src="jspsych/plugin-survey-text.js"></script>
        <script src="jspsych/plugin-call-function.js"></script>
        <script src="jspsych/plugin-preload.js"></script>
        <script src="jspsych/plugin-html-keyboard-response.js"></script>
        <link href="jspsych/jspsych.css" rel="stylesheet" type="text/css" />
        <link href="forms/image/favicon.ico" rel="icon" type="image/x-icon"
    </head>
    <body></body>

    <!-- Allow remote storage on Google Firebase -->
    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/7.12.0/firebase-app.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use
    https://firebase.google.com/docs/web/setup#available-libraries -->
    <script src="https://www.gstatic.com/firebasejs/7.12.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.12.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.12.0/firebase-database.js"></script>

    <!-- enter some javascript code-->
    <script type="text/javascript">

        //Firebase set up
        const firebaseConfig = {
            apiKey: "AIzaSyDZtwVff-8QiFqQkvB6WSI3S0924DHPcyw",
            authDomain: "ma-thesis-2.firebaseapp.com",
            databaseURL: "https://ma-thesis-2-default-rtdb.firebaseio.com",
            projectId: "ma-thesis-2",
            storageBucket: "ma-thesis-2.firebasestorage.app",
            messagingSenderId: "613972728144",
            appId: "1:613972728144:web:51acc785ef4ce3900ff455"
        };

        //initialize Firebase
        firebase.initializeApp(firebaseConfig);

        //get a reference to the database service
        var database = firebase.database();

        //login anonynous user
        firebase.auth().signInAnonymously().catch(function(error) {
            //error handling
            var errorCode = error.code;
            var errorMessage = error.message;
        });

        // check user can sign on to firebase
        firebase.auth().onAuthStateChanged(function(user) {
            if (user) {
                // user is signed in
                var isAnonymous = user.isAnonymous;
                var uid = user.uid;
            } else {
                //user is signed out
            }
        });

        //initialize jspsych
        var jsPsych = initJsPsych({
            on_finish:function(){
                //get all data from jsPsych
                var data = jsPsych.data.get().values();
                //use push, entries are ordered by time
                database.ref("participants").push({
                    subject: subject_id,
                    data: data,
                    //add timestamp 
                    timestamp: firebase.database.ServerValue.TIMESTAMP
                })
                .then (() => {
                    console.log("Data saved to Firebase successfully!");
                })
                .catch((error) => {
                    console.error("Error saving to Firebase: ", error);
                });
                //display data in the browser
                jsPsych.data.displayData();
            }
        });

        //Experiment

        //anoynous subject_id
        var subject_id = jsPsych.randomization.randomID(15); //Firebase
        console.log(subject_id);
        jsPsych.data.addProperties({
            subject: subject_id
        });

        //Study procedure begins
        //preload
        var preload={
            type:jsPsychPreload,
            images:['forms/image/matrix.png'],
            record_data:false
        };

        //Intro
        var introduction={
            type:jsPsychSurveyText,
            questions:[
                {prompt: `
                <div style="max-width: 900px; margin: auto; text-align: left; line-height: 1.6;">
                <p>You will now continue with the number-identification task for a little longer.</p>
                <p>In this section, you and your partner will engage in a joint decision-making task. 
                Very often people are faced with decisions to make that could help a given cause, 
                but it will only be beneficial if their effort is matched by other people's effort too. 
                Yet no one wants their effort to be wasted.</p>
                <p>You and your partner will complete <b>10 rounds</b> of the number-identification task.
                There will be <b>20 numbers</b> to check in each round, and you will be given <b>30 seconds</b>. Prior to each round, 
                you and your partner can choose between two versions of the task or skip : </p>
                <p><b>1) Hard version</b>: Identify numbers with an even first digit and an odd second digit. <br>
                <b>2) Easy version</b>: Identify numbers with an odd second digit. <br>
                <b>3) Skip</b>: Be directed to start of the next round. </p>
                <p> Your and your teammate's decisions will generate donations from the research team to <b>Tree Canada</b>.
                Tree Canada is a national non-profit organization dedicated to planting and nurturing trees in rural and urban environments across Canada. 
                <b>The amount of donation depends on you and your teammate's choice and effort together</b>. 
                In every round, if you and your partner both complete the hard version and pass the 80% accuracy check, the donation will be <b>0.5 CAD</b>. 
                If one of you completes the hard version and the other completes the easy version, the donation will be <b>0.1 CAD</b>. 
                If neither participant completes the hard version, there will be <b>no donation</b> made. You can also refer to the picture below to learn about how the amount of donation is decided. </p>
                <div style="text-align:center;margin-top:20px;">
                    <image src="forms/image/matrix.png" style="width:450px;height=auto:">
                </div>
                <p>We know you and your partner care about making the environment better and 
                are willing to put in the effort to support environmental NGOs like Tree Canada. Your actions can directly contribute to this cause. 
                It is up to you to choose a hard or easy version, and you also have the option to discontinue at any time or move to the next round. 
                <p>If you are ready for the actual task, please fill in your participant ID and proceed to the next page.</p>
                </div>
                `,
                required:true}
            ],
            //ensure top of the page is visible
            on_load:function(){
                window.scrollTo(0,0);
            }
        };

        //trial_1
        var pre_trial1={
            type:jsPsychSurveyMultiChoice,
            questions:[{
                prompt:`<div style="max-width: 900px; margin: auto; text-align: left; line-height: 1.6;">
                <p>The next round is the <b>1st</b> one. It will contain 20 numbers, and you will have 30 seconds to complete 
                if you choose the hard or easy version. You can also jump to the next round by choosing Skip.
                If you decide to do the hard version, please do so throughly because we can only count pages that are at least 80% correct.
                </p>
                <p><b>1) Hard version</b>: Identify numbers with an even first digit and an odd second digit. <br>
                <b>2) Easy version</b>: Identify numbers with an odd second digit. <br>
                <b>3) Skip</b>: Be directed to start of the next round. </p>
                <p>Please choose to complete the hard version or easy version, or skip.</p>`,
                name:"pre_trial1",
                options:['Hard version','Easy version','Skip'],
                required:true
            }],
        };

        var trial_1H = {
            type:jsPsychSurveyMultiSelect,
            questions:[{
                prompt:`<div style="width: 900px; margin: auto; text-align: left; line-height: 1.6;">
                <p>You chose the hard version. Identify all those stimuli with an even first digit and an odd second digit. 
                For example, you should click on "25", because the first digit (2) is even and the second digit is odd (5).</p>`,
                options:["34","46","31","89","17","52","46","31","42","89"],
                horizontal:true,
                required:false,
                name:"T1H_L1"
            },{
                prompt:" ",
                options:["27","44","65","85","53","67","85","38","66","71"],
                horizontal:true,
                required:false,
                name:"T1H_L2"
            }],
            trial_duration:30000,
        };

        var trial_1E = {
            type:jsPsychSurveyMultiSelect,
            questions:[{
                prompt:`<div style="width: 900px; margin: auto; text-align: left; line-height: 1.6;">
                    <p>You chose the easy version. Identify all those stimuli with an odd second digit. 
                    For example, you should click on "25", because the second digit is odd (5). </p>`,
                options:["34","46","31","89","17","52","46","31","42","89"],
                horizontal:true,
                required:false,
                name:"T1E_L1"
            },{
                prompt:" ",
                options:["27","44","65","85","53","67","85","38","66","71"],
                horizontal:true,
                required:false,
                name:"T1E_L2"
            }],
            trial_duration:30000,
        };

        var conditional_trial1H = {
            timeline:[trial_1H],
            conditional_function:function(){
                var choice = jsPsych.data.get()
                    .select('response')
                    .values.map(r => r.pre_trial1)
                    .filter(v => v!== undefined)
                    .pop();
                return choice === "Hard version";
            }
        };

        var conditional_trial1E = {
            timeline:[trial_1E],
            conditional_function:function(){
                var choice = jsPsych.data.get()
                .select('response')
                .values.map(r => r.pre_trial1)
                .filter(v => v!== undefined)
                .pop();
                return choice === "Easy version";
            }
        };

        //trial_2
        var pre_trial2={
            type:jsPsychSurveyMultiChoice,
            questions:[{
                prompt:`<div style="max-width: 900px; margin: auto; text-align: left; line-height: 1.6;">
                <p>The next round is the <b>2nd</b> one. It will contain 20 numbers, and you will have 30 seconds to complete 
                if you choose the hard or easy version. You can also jump to the next round by choosing Skip.
                If you decide to do the hard version, please do so throughly because we can only count pages that are at least 80% correct.
                </p>
                <p><b>1) Hard version</b>: Identify numbers with an even first digit and an odd second digit. <br>
                <b>2) Easy version</b>: Identify numbers with an odd second digit. <br>
                <b>3) Skip</b>: Be directed to start of the next round. </p>
                <p>Please choose to complete the hard version or easy version, or skip.</p>`,
                name:"pre_trial2",
                options:['Hard version','Easy version','Skip'],
                required:true
        }],
        };
    
        var trial_2H = {
            type:jsPsychSurveyMultiSelect,
            questions:[{
                prompt:`<div style="width: 900px; margin: auto; text-align: left; line-height: 1.6;">
                <p>You chose the hard version. Identify all those stimuli with an even first digit and an odd second digit. 
                For example, you should click on "25", because the first digit (2) is even and the second digit is odd (5).</p>`,
                options:["47","72","39","23","15","84","88","82","44","57"],
                horizontal:true,
                required:false,
                name:"T2H_L1"
            },{
                prompt:" ",
                options:["59","38","68","46","32","81","67","71","69","84"],
                horizontal:true,
                required:false,
                name:"T2H_L2"
            }],
            trial_duration:30000
        };
        var trial_2E = {
            type:jsPsychSurveyMultiSelect,
            questions:[{
                prompt:`<div style="width: 900px; margin: auto; text-align: left; line-height: 1.6;">
                    <p>You chose the easy version. Identify all those stimuli with an odd second digit. 
                    For example, you should click on "25", because the second digit is odd (5). </p>`,
                options:["47","72","39","23","15","84","88","82","44","57"],
                horizontal:true,
                required:false,
                name:"T2E_L1"
            },{
                prompt:" ",
                options:["59","38","68","46","32","81","67","71","69","84"],
                horizontal:true,
                required:false,
                name:"T2E_L2"
            }],
            trial_duration:30000
        };

        var conditional_trial2H = {
            timeline:[trial_2H],
            conditional_function:function(){
                var choice = jsPsych.data.get()
                .select('response')
                .values.map(r => r.pre_trial2)
                .filter(v => v!== undefined)
                .pop();
                return choice === "Hard version";
            }
        };

        var conditional_trial2E = {
            timeline:[trial_2E],
            conditional_function:function(){
                var choice = jsPsych.data.get()
                .select('response')
                .values.map(r => r.pre_trial2)
                .filter(v => v!== undefined)
                .pop();
                return choice === "Easy version";
            }
        };

        //trial 3
        var pre_trial3={
            type:jsPsychSurveyMultiChoice,
            questions:[{
                prompt:`<div style="max-width: 900px; margin: auto; text-align: left; line-height: 1.6;">
                <p>The next round is the <b>3rd</b> one. It will contain 20 numbers, and you will have 30 seconds to complete 
                if you choose the hard or easy version. You can also jump to the next round by choosing Skip.
                If you decide to do the hard version, please do so throughly because we can only count pages that are at least 80% correct.
                </p>
                <p><b>1) Hard version</b>: Identify numbers with an even first digit and an odd second digit. <br>
                <b>2) Easy version</b>: Identify numbers with an odd second digit. <br>
                <b>3) Skip</b>: Be directed to start of the next round. </p>
                <p>Please choose to complete the hard version or easy version, or skip. </p>`,
                name:"pre_trial3",
                options:['Hard version','Easy version','Skip'],
                required:true
        }],
        };
        
        var trial_3H= {
            type:jsPsychSurveyMultiSelect,
            questions:[{
                prompt:`<div style="width: 900px; margin: auto; text-align: left; line-height: 1.6;">
                <p>You chose the hard version. Identify all those stimuli with an even first digit and an odd second digit. 
                For example, you should click on "25", because the first digit (2) is even and the second digit is odd (5).</p>`,
                options:["43","72","46","38","68","36","39","83","22","27"],
                horizontal:true,
                required:false,
                name:"T3H_L1"
            },{
                prompt:" ",
                options:["25","85","28","46","45","32","34","27","58","68"],
                horizontal:true,
                required:false,
                name:"T3H_L2"
            }],
            trial_duration:30000
        };
        var trial_3E= {
            type:jsPsychSurveyMultiSelect,
            questions:[{
                prompt:`<div style="width: 900px; margin: auto; text-align: left; line-height: 1.6;">
                <p>You chose the easy version. Identify all those stimuli with an odd second digit. 
                For example, you should click on "25", because the second digit is odd (5). </p>`,
                options:["43","72","46","38","68","36","39","83","22","27"],
                horizontal:true,
                required:false,
                name:"T3E_L1"
            },{
                prompt:" ",
                options:["25","85","28","46","45","32","34","27","58","68"],
                horizontal:true,
                required:false,
                name:"T3E_L2"
            }],
            trial_duration:30000
        };

        
        var conditional_trial3H = {
            timeline:[trial_3H],
            conditional_function:function(){
                var choice = jsPsych.data.get()
                .select('response')
                .values.map(r => r.pre_trial3)
                .filter(v => v!== undefined)
                .pop();
                return choice === "Hard version";
            }
        };
        
        var conditional_trial3E = {
            timeline:[trial_3E],
            conditional_function:function(){
                var choice = jsPsych.data.get()
                .select('response')
                .values.map(r => r.pre_trial3)
                .filter(v => v!== undefined)
                .pop();
                return choice === "Easy version";
            }
        };

        // trial 4
        var pre_trial4={
            type:jsPsychSurveyMultiChoice,
             questions:[{
                prompt:`<div style="max-width: 900px; margin: auto; text-align: left; line-height: 1.6;">
                <p>The next round is the <b>4th</b> one. It will contain 20 numbers, and you will have 30 seconds to complete 
                if you choose the hard or easy version. You can also jump to the next round by choosing Skip.
                If you decide to do the hard version, please do so throughly because we can only count pages that are at least 80% correct.
                </p>
                <p><b>1) Hard version</b>: Identify numbers with an even first digit and an odd second digit. <br>
                <b>2) Easy version</b>: Identify numbers with an odd second digit. <br>
                <b>3) Skip</b>: Be directed to start of the next round. </p>
                <p>Please choose to complete the hard version or easy version, or skip. </p>`,
                name:"pre_trial4",
                options:['Hard version','Easy version','Skip'],
                required:true
        }],
        };
        trial_4H={
            type:jsPsychSurveyMultiSelect,
            questions:[{
                prompt:`<div style="width: 900px; margin: auto; text-align: left; line-height: 1.6;">
                <p>You chose the hard version. Identify all those stimuli with an even first digit and an odd second digit. 
                For example, you should click on "25", because the first digit (2) is even and the second digit is odd (5).</p>`,
                options:["48","21","68","13","19","63","24","27","22","63"],
                horizontal:true,
                required:false,
                name:"T4H_L1"
            },{
                prompt:" ",
                options:["18","88","37","73","39","66","43","27","93","22"],
                horizontal:true,
                required:false,
                name:"T4H_L2"
            }],
            trial_duration:30000
        };
        trial_4E={
            type:jsPsychSurveyMultiSelect,
            questions:[{
                prompt:`<div style="width: 900px; margin: auto; text-align: left; line-height: 1.6;">
                <p>You chose the easy version. Identify all those stimuli with an odd second digit. 
                For example, you should click on "25", because the second digit is odd (5). </p>`,
                options:["48","21","68","13","19","63","24","27","22","63"],
                horizontal:true,
                required:false,
                name:"T4E_L1"
            },{
                prompt:" ",
                options:["18","88","37","73","39","66","43","27","93","22"],
                horizontal:true,
                required:false,
                name:"T4E_L2"
            }],
            trial_duration:30000
        };
        
        var conditional_trial4H = {
            timeline:[trial_4H],
            conditional_function:function(){
                var choice = jsPsych.data.get()
                .select('response')
                .values.map(r => r.pre_trial4)
                .filter(v => v!== undefined)
                .pop();
                return choice === "Hard version";
            }
        };
        var conditional_trial4E = {
            timeline:[trial_4E],
            conditional_function:function(){
                var choice = jsPsych.data.get()
                .select('response')
                .values.map(r => r.pre_trial4)
                .filter(v => v!== undefined)
                .pop();
                return choice === "Easy version";
            }
        };

        //trial_5
        var pre_trial5={
            type:jsPsychSurveyMultiChoice,
            questions:[{
                prompt:`<div style="max-width: 900px; margin: auto; text-align: left; line-height: 1.6;">
                <p>The next round is the <b>5th</b> one. It will contain 20 numbers, and you will have 30 seconds to complete 
                if you choose the hard or easy version. You can also jump to the next round by choosing Skip.
                If you decide to do the hard version, please do so throughly because we can only count pages that are at least 80% correct.
                </p>
                <p><b>1) Hard version</b>: Identify numbers with an even first digit and an odd second digit. <br>
                <b>2) Easy version</b>: Identify numbers with an odd second digit. <br>
                <b>3) Skip</b>: Be directed to start of the next round. </p>
                <p>Please choose to complete the hard version or easy version, or skip. </p>`,
                name:"pre_trial5",
                options:['Hard version','Easy version','Skip'],
                required:true
        }],
        };
        var trial_5H = {
            type:jsPsychSurveyMultiSelect,
            questions:[{
                prompt:`<div style="width: 900px; margin: auto; text-align: left; line-height: 1.6;">
                <p>You chose the hard version. Identify all those stimuli with an even first digit and an odd second digit. 
                For example, you should click on "25", because the first digit (2) is even and the second digit is odd (5).</p>`,
                options:["64","15","82","83","58","98","96","23","69","12"],
                horizontal:true,
                required:false,
                name:"T5H_L1" 
            },{
                prompt:" ",
                options:["42","74","63","92","31","58","73","28","27","56"],
                horizontal:true,
                required:false,
                name:"T5H_L2" 
            }],
            trial_duration:30000
        };
        var trial_5E = {
            type:jsPsychSurveyMultiSelect,
            questions:[{
                prompt:`<div style="width: 900px; margin: auto; text-align: left; line-height: 1.6;">
                <p>You chose the easy version. Identify all those stimuli with an odd second digit. 
                For example, you should click on "25", because the second digit is odd (5). </p>`,
                options:["64","15","82","83","58","98","96","23","69","12"],
                horizontal:true,
                required:false,
                name:"T5E_L1" 
            },{
                prompt:" ",
                options:["42","74","63","92","31","58","73","28","27","56"],
                horizontal:true,
                required:false,
                name:"T5E_L2"
            }],
            trial_duration:30000
        };
        var conditional_trial5H = {
            timeline:[trial_5H],
            conditional_function:function(){
                var choice = jsPsych.data.get()
                .select('response')
                .values.map(r => r.pre_trial5) 
                .filter(v => v!== undefined)
                .pop();
                return choice === "Hard version";
            }
        };
        var conditional_trial5E = {
            timeline:[trial_5E],
            conditional_function:function(){
                var choice = jsPsych.data.get()
                .select('response')
                .values.map(r => r.pre_trial5)
                .filter(v => v!== undefined)
                .pop();
                return choice === "Easy version";
            }
        };

        //trial 6
        var pre_trial6={
            type:jsPsychSurveyMultiChoice,
            questions:[{
                prompt:`<div style="max-width: 900px; margin: auto; text-align: left; line-height: 1.6;">
                <p>The next round is the <b>6th</b> one. It will contain 20 numbers, and you will have 30 seconds to complete 
                if you choose the hard or easy version. You can also jump to the next round by choosing Skip.
                If you decide to do the hard version, please do so throughly because we can only count pages that are at least 80% correct.
                </p>
                <p><b>1) Hard version</b>: Identify numbers with an even first digit and an odd second digit. <br>
                <b>2) Easy version</b>: Identify numbers with an odd second digit. <br>
                <b>3) Skip</b>: Be directed to start of the next round. </p>
                <p>Please choose to complete the hard version or easy version, or skip. </p>`,
                name:"pre_trial6", // change accordingly
                options:['Hard version','Easy version','Skip'],
                required:true
        }],
        };
        var trial_6H = {
            type:jsPsychSurveyMultiSelect,
            questions:[{
                prompt:`<div style="width: 900px; margin: auto; text-align: left; line-height: 1.6;">
                <p>You chose the hard version. Identify all those stimuli with an even first digit and an odd second digit. 
                For example, you should click on "25", because the first digit (2) is even and the second digit is odd (5).</p>`,
                options:["62","84","46","13","38","28","45","34","41","68"],
                horizontal:true,
                required:false,
                name:"T6H_L1" //change
            },{
                prompt:" ",
                options:["43","25","54","75","61","63","56","31","19","63"],
                horizontal:true,
                required:false,
                name:"T6H_L2" //change
            }],
            trial_duration:30000
        };
        var trial_6E = {
            type:jsPsychSurveyMultiSelect,
            questions:[{
                prompt:`<div style="width: 900px; margin: auto; text-align: left; line-height: 1.6;">
                    <p>You chose the easy version. Identify all those stimuli with an odd second digit. 
                    For example, you should click on "25", because the second digit is odd (5). </p>`,
                options:["62","84","46","13","38","28","45","34","41","68"],
                horizontal:true,
                required:false,
                name:"T6E_L1" //change
            },{
                prompt:" ",
                options:["43","25","54","75","61","63","56","31","19","63"],
                horizontal:true,
                required:false,
                name:"T6E_L2" //change
            }],
            trial_duration:30000
        };
        var conditional_trial6H = {
            timeline:[trial_6H],//change
            conditional_function:function(){
                var choice = jsPsych.data.get()
                .select('response')
                .values.map(r => r.pre_trial6) //change
                .filter(v => v!== undefined)
                .pop();
                return choice === "Hard version";
            }
        };
        var conditional_trial6E = {
            timeline:[trial_6E],
            conditional_function:function(){
                var choice = jsPsych.data.get()
                .select('response')
                .values.map(r => r.pre_trial6)
                .filter(v => v!== undefined)
                .pop();
                return choice === "Easy version";
            }
        };

        //trial 7
        var pre_trial7={//change
            type:jsPsychSurveyMultiChoice,
            questions:[{
                prompt:`<div style="max-width: 900px; margin: auto; text-align: left; line-height: 1.6;">
                <p>The next round is the <b>7th</b> one. It will contain 20 numbers, and you will have 30 seconds to complete 
                if you choose the hard or easy version. You can also jump to the next round by choosing Skip.
                If you decide to do the hard version, please do so throughly because we can only count pages that are at least 80% correct.
                </p>
                <p><b>1) Hard version</b>: Identify numbers with an even first digit and an odd second digit. <br>
                <b>2) Easy version</b>: Identify numbers with an odd second digit. <br>
                <b>3) Skip</b>: Be directed to start of the next round. </p>
                <p>Please choose to complete the hard version or easy version, or skip. </p>`,//change order
                name:"pre_trial7", // change accordingly
                options:['Hard version','Easy version','Skip'],
                required:true
        }],
        };
        var trial_7H = {//change
            type:jsPsychSurveyMultiSelect,
            questions:[{
                prompt:`<div style="width: 900px; margin: auto; text-align: left; line-height: 1.6;">
                <p>You chose the hard version. Identify all those stimuli with an even first digit and an odd second digit. 
                For example, you should click on "25", because the first digit (2) is even and the second digit is odd (5).</p>`,
                options:["38","87","29","81","26","32","14","16","52", "64"],
                horizontal:true,
                required:false,
                name:"T7H_L1" //change
            },{
                prompt:" ",
                options:["69","39","66","96","21","73","33","97","51","98"],
                horizontal:true,
                required:false,
                name:"T7H_L2" //change
            }],
            trial_duration:30000
        };
        var trial_7E = {//change
            type:jsPsychSurveyMultiSelect,
            questions:[{
                prompt:`<div style="width: 900px; margin: auto; text-align: left; line-height: 1.6;">
                <p>You chose the easy version. Identify all those stimuli with an odd second digit. 
                For example, you should click on "25", because the second digit is odd (5). </p>`,
                options:["38","87","29","81","26","32","14","16","52", "64"],
                horizontal:true,
                required:false,
                name:"T7E_L1" //change
            },{
                prompt:" ",
                options:["69","39","66","96","21","73","33","97","51","98"],
                horizontal:true,
                required:false,
                name:"T7E_L2" //change
            }],
            trial_duration:30000
        };
        var conditional_trial7H = {//change
            timeline:[trial_7H],//change
            conditional_function:function(){
                var choice = jsPsych.data.get()
                .select('response')
                .values.map(r => r.pre_trial7) //change
                .filter(v => v!== undefined)
                .pop();
                return choice === "Hard version";
            }
        };
        var conditional_trial7E = { //change
            timeline:[trial_7E],//change
            conditional_function:function(){
                var choice = jsPsych.data.get()
                .select('response')
                .values.map(r => r.pre_trial7)//change
                .filter(v => v!== undefined)
                .pop();
                return choice === "Easy version";
            }
        };

        //trial 8
        var pre_trial8={
            type:jsPsychSurveyMultiChoice,
            questions:[{
                prompt:`<div style="max-width: 900px; margin: auto; text-align: left; line-height: 1.6;">
                <p>The next round is the <b>8th</b> one. It will contain 20 numbers, and you will have 30 seconds to complete 
                if you choose the hard or easy version. You can also jump to the next round by choosing Skip.
                If you decide to do the hard version, please do so throughly because we can only count pages that are at least 80% correct.
                </p>
                <p><b>1) Hard version</b>: Identify numbers with an even first digit and an odd second digit. <br>
                <b>2) Easy version</b>: Identify numbers with an odd second digit. <br>
                <b>3) Skip</b>: Be directed to start of the next round. </p>
                <p>Please choose to complete the hard version or easy version, or skip. </p>`,//change order
                name:"pre_trial8", // change accordingly
                options:['Hard version','Easy version','Skip'],
                required:true
        }],
        };
        var trial_8H = {//change
            type:jsPsychSurveyMultiSelect,
            questions:[{
                prompt:`<div style="width: 900px; margin: auto; text-align: left; line-height: 1.6;">
                <p>You chose the hard version. Identify all those stimuli with an even first digit and an odd second digit. 
                For example, you should click on "25", because the first digit (2) is even and the second digit is odd (5).</p>`,//change if it's easy version
                options:["58","18","26","32","27","88","61","82","44","53"],
                horizontal:true,
                required:false,
                name:"T8H_L1" //change
            },{
                prompt:" ",
                options:["96","61","68","38","29","81","41","62","42","92"],
                horizontal:true,
                required:false,
                name:"T8H_L2" //change
            }],
            trial_duration:30000
        };
        var trial_8E = {//change
            type:jsPsychSurveyMultiSelect,
            questions:[{
                prompt:`<div style="width: 900px; margin: auto; text-align: left; line-height: 1.6;">
                    <p>You chose the easy version. Identify all those stimuli with an odd second digit. 
                    For example, you should click on "25", because the second digit is odd (5). </p>`,
                options:["58","18","26","32","27","88","61","82","44","53"],
                horizontal:true,
                required:false,
                name:"T8E_L1" //change
            },{
                prompt:" ",
                options:["96","61","68","38","29","81","41","62","42","92"],
                horizontal:true,
                required:false,
                name:"T8E_L2" //change
            }],
            trial_duration:30000
        };
        var conditional_trial8H = {//change
            timeline:[trial_8H],//change
            conditional_function:function(){
                var choice = jsPsych.data.get()
                .select('response')
                .values.map(r => r.pre_trial8) //change
                .filter(v => v!== undefined)
                .pop();
                return choice === "Hard version";
            }
        };
        var conditional_trial8E = { //change
            timeline:[trial_8E],//change
            conditional_function:function(){
                var choice = jsPsych.data.get()
                .select('response')
                .values.map(r => r.pre_trial8)//change
                .filter(v => v!== undefined)
                .pop();
                return choice === "Easy version";
            }
        };

        //trial 9
        var pre_trial9={//change
            type:jsPsychSurveyMultiChoice,
            questions:[{
                prompt:`<div style="max-width: 900px; margin: auto; text-align: left; line-height: 1.6;">
                <p>The next round is the <b>9th</b> one. It will contain 20 numbers, and you will have 30 seconds to complete 
                if you choose the hard or easy version. You can also jump to the next round by choosing Skip.
                If you decide to do the hard version, please do so throughly because we can only count pages that are at least 80% correct.
                </p>
                <p><b>1) Hard version</b>: Identify numbers with an even first digit and an odd second digit. <br>
                <b>2) Easy version</b>: Identify numbers with an odd second digit. <br>
                <b>3) Skip</b>: Be directed to start of the next round. </p>
                <p>Please choose to complete the hard version or easy version, or skip. </p>`,//change order
                name:"pre_trial9", // change accordingly
                options:['Hard version','Easy version','Skip'],
                required:true
        }],
        };
        var trial_9H = {//change
            type:jsPsychSurveyMultiSelect,
            questions:[{
                prompt:`<div style="width: 900px; margin: auto; text-align: left; line-height: 1.6;">
                <p>You chose the hard version. Identify all those stimuli with an even first digit and an odd second digit. 
                For example, you should click on "25", because the first digit (2) is even and the second digit is odd (5).</p>`,//change if it's easy version
                options:["58","27","48","14","82","47","91","18","53","91"],
                horizontal:true,
                required:false,
                name:"T9H_L1" //change
            },{
                prompt:" ",
                options:["24","75","67","81","54","24","69","32","15","65"],
                horizontal:true,
                required:false,
                name:"T9H_L2" //change
            }],
            trial_duration:30000
        };
        var trial_9E = {//change
            type:jsPsychSurveyMultiSelect,
            questions:[{
                prompt:`<div style="width: 900px; margin: auto; text-align: left; line-height: 1.6;">
                <p>You chose the easy version. Identify all those stimuli with an odd second digit. 
                For example, you should click on "25", because the second digit is odd (5). </p>`,
                options:["58","27","48","14","82","47","91","18","53","91"],
                horizontal:true,
                required:false,
                name:"T9E_L1" //change
            },{
                prompt:" ",
                options:["24","75","67","81","54","24","69","32","15","65"],
                horizontal:true,
                required:false,
                name:"T9E_L2" //change
            }],
            trial_duration:30000
        };
        var conditional_trial9H = {//change
            timeline:[trial_9H],//change
            conditional_function:function(){
                var choice = jsPsych.data.get()
                .select('response')
                .values.map(r => r.pre_trial9) //change
                .filter(v => v!== undefined)
                .pop();
                return choice === "Hard version";
            }
        };
        var conditional_trial9E = { //change
            timeline:[trial_9E],//change
            conditional_function:function(){
                var choice = jsPsych.data.get()
                .select('response')
                .values.map(r => r.pre_trial9)//change
                .filter(v => v!== undefined)
                .pop();
                return choice === "Easy version";
            }
        };

        //trial 10
        var pre_trial10={//change
            type:jsPsychSurveyMultiChoice,
            questions:[{
                prompt:`<div style="max-width: 900px; margin: auto; text-align: left; line-height: 1.6;">
                <p>The next round is the <b>10th</b> one. It will contain 20 numbers, and you will have 30 seconds to complete 
                if you choose the hard or easy version. You can also jump to the next round by choosing Skip.
                If you decide to do the hard version, please do so throughly because we can only count pages that are at least 80% correct.</p>
                <p><b>1) Hard version</b>: Identify numbers with an even first digit and an odd second digit. <br>
                <b>2) Easy version</b>: Identify numbers with an odd second digit. <br>
                <b>3) Skip</b>: Be directed to start of the next round. </p>
                <p>Please choose to complete the hard version or easy version, or skip. </p>`,//change order
                name:"pre_trial10", // change accordingly
                options:['Hard version','Easy version','Skip'],
                required:true
        }],
        };
        var trial_10H = {//change
            type:jsPsychSurveyMultiSelect,
            questions:[{
                prompt:`<div style="width: 900px; margin: auto; text-align: left; line-height: 1.6;">
                <p>You chose the hard version. Identify all those stimuli with an even first digit and an odd second digit. 
                For example, you should click on "25", because the first digit (2) is even and the second digit is odd (5).</p>`,//change if it's easy version
                options:["38","67","58","72","56","82","34","62","66","59"],
                horizontal:true,
                required:false,
                name:"T10H_L1" //change
            },{
                prompt:" ",
                options:["19","75","24","92","57","44","81","73","91","75"],
                horizontal:true,
                required:false,
                name:"T10H_L2" //change
            }],
            trial_duration:30000
        };
        var trial_10E = {//change
            type:jsPsychSurveyMultiSelect,
            questions:[{
                prompt:`<div style="width: 900px; margin: auto; text-align: left; line-height: 1.6;">
                <p>You chose the easy version. Identify all those stimuli with an odd second digit. 
                For example, you should click on "25", because the second digit is odd (5). </p>`,
                options:["38","67","58","72","56","82","34","62","66","59"],
                horizontal:true,
                required:false,
                name:"T10E_L1" //change
            },{
                prompt:" ",
                options:["19","75","24","92","57","44","81","73","91","75"],
                horizontal:true,
                required:false,
                name:"T10E_L2" //change
            }],
            trial_duration:30000
        };
        var conditional_trial10H = {//change
            timeline:[trial_10H],//change
            conditional_function:function(){
                var choice = jsPsych.data.get()
                .select('response')
                .values.map(r => r.pre_trial10) //change
                .filter(v => v!== undefined)
                .pop();
                return choice === "Hard version";
            }
        };
        var conditional_trial10E = { //change
            timeline:[trial_10E],//change
            conditional_function:function(){
                var choice = jsPsych.data.get()
                .select('response')
                .values.map(r => r.pre_trial10)//change
                .filter(v => v!== undefined)
                .pop();
                return choice === "Easy version";
            }
        };

        var finish_page ={
            type:jsPsychHtmlKeyboardResponse,
            stimulus:'',
            prompt:`<div style="max-width: 900px; margin: auto; text-align: left; line-height: 1.6;">
            <p>Thank you very much. You have made decisions on all 10 trials. Please press the button next to your computer to let the experimenter know. </p>
            <p>Now, please press any key on the keyboard to end this experiment. Do not leave the lab room. Please patiently wait for the experimenter to analyze the results. </P>`
        };

         /*create timelime*/
        var timeline = [];
        timeline.push(preload);
        timeline.push(introduction);
        timeline.push(pre_trial1);
        timeline.push(conditional_trial1H);
        timeline.push(conditional_trial1E);
        timeline.push(pre_trial2);
        timeline.push(conditional_trial2H);
        timeline.push(conditional_trial2E);
        timeline.push(pre_trial3);
        timeline.push(conditional_trial3H);
        timeline.push(conditional_trial3E);
        timeline.push(pre_trial4);
        timeline.push(conditional_trial4H);
        timeline.push(conditional_trial4E);
        timeline.push(pre_trial5);
        timeline.push(conditional_trial5H);
        timeline.push(conditional_trial5E);
        timeline.push(pre_trial6);
        timeline.push(conditional_trial6H);
        timeline.push(conditional_trial6E);
        timeline.push(pre_trial7);
        timeline.push(conditional_trial7H);
        timeline.push(conditional_trial7E);
        timeline.push(pre_trial8);
        timeline.push(conditional_trial8H);
        timeline.push(conditional_trial8E);
        timeline.push(pre_trial9);
        timeline.push(conditional_trial9H);
        timeline.push(conditional_trial9E);
        timeline.push(pre_trial10);
        timeline.push(conditional_trial10H);
        timeline.push(conditional_trial10E);
        timeline.push(finish_page);
        jsPsych.run(timeline);
    </script>
</html>